<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Task</title>
    <link rel="stylesheet" href="/styles/add_task.css">
    <link rel="stylesheet" href="/styles/contacts.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="/assets/fonts/inter.css">
    <script src="script.js"></script>
    <script src="/js/contacts.js"></script>
    <script src="/js/tasks.js"></script>
    <script src="/js/storage.js"></script>
</head>

<body onload="disablePrioBtns()">

<form class="add-task-form container" id="add-task-form-container" action="task_card.html" method="get" onsubmit="event.preventDefault(); createNewTask();">
<!-- onsubmit="addTask()"> -->
       <!-- Header Section -->
    <div class="header-div">
        <h1>Add Task</h1>
    </div>
    <div class="content-add-task">
        <div class="title-description-div">
            <!-- <div class="add-task-section"> -->
                <!-- Task Title -->
                <div class="task-categories">
                    <span>Title*</span>
                    <div class="input-container">
                    <input type="text" id="task-title" class="input-field" placeholder="Enter a title">
                    </div>
                </div>
                <div class="task-categories description">
                    <span>Description</span>
                        <div class="input-container">
                            <textarea type="text" required id="task-description" class="input-field" placeholder="Enter a Description">
                                
                            </textarea>
                            
                        </div>
                </div>

                <div class="task-categories">
                    <span>Assigned to</span>

                    <div class="custom-select">
                        <button
                          class="dropdown select-button"
                          role="combobox"
                          aria-labelledby="select button"
                          aria-haspopup="listbox"
                          aria-expanded="false"
                          aria-controls="select-dropdown"
                          onclick="toggleCustomSelect(); filterUsers()"
                          id="user-select-button"
                        >
                          <!-- <span class="selected-value" >Select contacts to assign</span> -->
                          <input placeholder="Select contacts to assign" type="text" autocomplete="off" class="selected-value" id="search" oninput="filterUsers()">
                          <img class="dropdown-icon" id="dropdown-icon-users" src="/assets/img/icons/arrow_drop_downaa.svg" alt="dropdown icon">
                        </button>
                        <div>
                            <span id="list"></span>
                        </div>
                        <ul class="dropdown d-none-ni" role="listbox" id="select-dropdown">
                        </ul>
                      </div>
                      <div class="selected-users-container" id="selected-users-container">
                </div>
            <!-- </div> -->
        </div>
        <div class="borderline"></div>
        <div class="date-prio-container">
            <div class="task-categories">
                <span>Due date</span>
                <input type="date" id="task-date" class="input-field date-task-inputfield" placeholder="dd/mm/yy">
            </div>

            <div class="task-categories">
                <span>Prio</span>
                <div class="prio-btn-container">
                    <button onclick="prioButtonUrgent()" class="prio urgent-btn" id="urgent-btn">
                            <span>Urgent</span>
                            <img class="prio-icon" src="/assets/img/icons/Prio alta.svg" alt="">
                    </button>
                    <button type="button" value="urgent" class="prio urgent-btn-clicked d-none" id="urgent-btn-clicked">
                            <span>Urgent</span>
                            <img class="prio-icon" src="/assets/img/icons/Prio alta-white.svg" alt="">
                    </button>
                    <button onclick="prioButtonMedium()" class="prio medium-btn d-none" id="medium-btn">
                            <span>Medium</span>
                            <img class="prio-icon" src="/assets/img/icons/Prio media.svg" alt="Medium Prio Icon">
                    </button>
                    <button type="button" value="medium" class="prio medium-btn-clicked" id="medium-btn-clicked">
                            <span>Medium</span>
                            <img class="prio-icon" src="assets/img/icons/Prio media-white.svg" alt="Medium Prio Icon">
                    </button>
                    <button onclick="prioButtonLow()" class="prio low-btn" id="low-btn">
                            <span>Low</span>
                            <img class="prio-icon" src="/assets/img/icons/Prio baja.svg" alt="Low Prio Icon">
                    </button>
                    <button type="button" value="low" class="prio low-btn-clicked d-none" id="low-btn-clicked">
                            <span>Low</span>
                            <img class="prio-icon" src="/assets/img/icons/Prio baja-white.svg" alt="Low Prio Icon">
                    </button>
                </div>
            </div> 
            <!-- <div class="custom-select">
                <button
                  class="dropdown select-button"
                  role="combobox"
                  aria-labelledby="select button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                  aria-controls="select-dropdown"
                  onclick="toggleCategoriesSelect()"
                  id="user-select-button"
                >-->
                  <!-- <span class="selected-value" >Select contacts to assign</span> -->
                  <!--   <input placeholder="Select task category" type="text" autocomplete="off" class="selected-value">
                  <img class="dropdown-icon" id="dropdown-icon-categories" src="/assets/img/icons/arrow_drop_downaa.svg" alt="dropdown icon">
                </button>
             
                <ul class="dropdown d-none-ni" role="listbox" id="select-dropdown-categories">
                </ul>
              </div>
              <div class="selected-users-container" id="selected-categories-container">
                <input type="checkbox" role="option" class="contact-entry-task" onclick="selectOption(this, '${userName}')"/>
        </div> -->
            <div class="task-categories">
                <span>Category</span>
                <select id="category-dropdown-menu" class="dropdown" aria-placeholder="Select task category" onclick="changeIconDropDownCategory()">
                    <option value="new category">New category</option>
                    <option value="development" >Development</option>
                    <option value="design">Design</option>
                    <option value="project and task management">Project and Task Management</option>
                    <option value="collaboration and communication">Collaboration and Communication</option>
                    <option value="management">Management</option>
                </select>
            </div>
            <div class="task-categories">
                <span>Subtasks</span>
                <div class="input-container">
                    <input class="input-field" type="text" id="subtask-input" placeholder="Add new subtask"/>
                    <img class="subtask-img icon" src="/assets/img/icons/add_task_icon.svg" alt="" onclick="">
                </div>
            </div>
        </div>
    </div>

    <div class="create-delete-task-container">
        <div class="create-delete-task-btn" id="create-delete-task-btns-container">
                <button id="reset" type="reset" class="button-secondary-w-icon add-task-btn">
                    Clear   
                    <img src="/assets/img/icons/cancel.svg" id="clearIconHover" class="clearIconDefault">
                    <img src="/assets/img/icons/iconoir_cancel.svg" id="clearIconDefault" class="clearIconBlue d-none-ni">
                </button>
                <button class="button-w-icon" type="submit" value="Submit">
                    Create Task
                    <img src="./assets/img/icons/check.svg">
                </button>
        </div>
    </div>
</form>
</body>
</html>